<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Visitas Accenture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
  <link href="{{url_for('static', filename='css/style.css')}}" rel="stylesheet">
</head>

<body>
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"
    integrity="sha256-3sPp8BkKUE7QyPSl6VfBByBroQbKxKG7tsusY2mhbVY=" crossorigin="anonymous" />
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto mb-4">
        <div class="section-title text-center">
          <h3 class="top-c-sep">Visitas Accenture</h3>
        </div>
        {% if username != none%}
        <div>
          <a href="/evento/novo"><button class="btn d-inline-block btn-light mr-2">Novo Evento</button></a>
          <a href="/deslogar"><button class="btn d-inline-block btn-danger">Deslogar</button></a>
        </div>
        {% endif %}
      </div>
    </div>
    {% for evento in eventos %}
    <div id="visit-list" class="filter-result">
        <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
            <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
              <div class="job-content">
                <span class="visit-name">{{evento['nome']}}</span>
                <ul class="visit-details d-md-flex flex-wrap text-capitalize ff-open-sans">
                    
                  <li><i class="zmdi zmdi-calendar mr-2"></i> Data: {{evento['data']}}</li>
                  <li><i class="zmdi zmdi-time mr-2"></i> Horário: {{evento['hora_inicio']}} - {{evento['hora_fim']}}</li>
                  <li><i class="zmdi zmdi-accounts mr-2"></i> Vagas: 0/{{evento['vagas']}}</li>
                    
                </ul>
              </div>
            </div>
            <div class="job-right my-4 flex-shrink-0">
              <a href="{{'/visitante/%s'%evento.id|urlencode}}" class="btn d-block w-100 d-sm-inline-block btn-light">Se Inscrever</a>
              {% if username != none %}
              <a href="{{'/editar/%s'%evento.id|urlencode}}"><button class="btn btn-light" title="Editar">
                <i class="zmdi zmdi-edit"></i>
              </button></a>
              <a href="{{'/deletar/%s'%evento.id|urlencode}}"><button class="btn btn-light" title="Deletar">
              <i class="zmdi zmdi-delete"></i>
              </button></a>
              {% endif %}
            </div>
          </div>
    </div>
    {% endfor %}

    <nav aria-label="Page navigation">
      <ul id="pagination" class="pagination pagination-reset justify-content-center">
        <!-- Pagination items will be inserted here dynamically -->
      </ul>
    </nav>
  </div>

  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
  <!-- <script type="text/javascript">
    // Sample visit data
    

 

    const itemsPerPage = 4;

    function createVisitItem(visit) {
      return `
        <div class="job-box d-md-flex align-items-center justify-content-between mb-30">
          <div class="job-left my-4 d-md-flex align-items-center flex-wrap">
            <div class="job-content">
              <span class="visit-name">Visita</span>
              <ul class="visit-details d-md-flex flex-wrap text-capitalize ff-open-sans">
                <li><i class="zmdi zmdi-calendar mr-2"></i> Data: ${visit.date}</li>
                <li><i class="zmdi zmdi-time mr-2"></i> Horário: ${visit.startTime} - ${visit.endTime}</li>
                <li><i class="zmdi zmdi-accounts mr-2"></i> Vagas: ${visit.filledSlots}/${visit.maxSlots}</li>
              </ul>
            </div>
          </div>
          <div class="job-right my-4 flex-shrink-0">
            <a href="" class="btn d-block w-100 d-sm-inline-block btn-light">Se Inscrever</a>
            {% if username != none %}
            <button class="btn btn-light" title="Editar">
              <i class="zmdi zmdi-edit"></i>
            </button>
            <button class="btn btn-light" title="Deletar">
            <i class="zmdi zmdi-delete"></i>
            </button>
            {% endif %}
          </div>
        </div>
      `;
    }

    function paginateVisits() {
      const totalPages = Math.ceil(visits.length / itemsPerPage);
      const visitListContainer = document.getElementById('visit-list');
      const paginationContainer = document.getElementById('pagination');

      // Clear existing content
      visitListContainer.innerHTML = '';
      paginationContainer.innerHTML = '';

      for (let page = 1; page <= totalPages; page++) {
        const pageContainer = document.createElement('div');
        pageContainer.id = `page${page}`;
        pageContainer.classList.add('page');
        if (page !== 1) pageContainer.style.display = 'none';

        const start = (page - 1) * itemsPerPage;
        const end = page * itemsPerPage;
        const pageItems = visits.slice(start, end);

        pageItems.forEach(visit => {
          pageContainer.innerHTML += createVisitItem(visit);
        });

        visitListContainer.appendChild(pageContainer);

        const pageItem = document.createElement('li');
        pageItem.classList.add('page-item');
        pageItem.innerHTML = `<a class="page-link" href="#" onclick="showPage(${page})">${page}</a>`;
        paginationContainer.appendChild(pageItem);
      }
    }

    function showPage(page) {
      const totalPages = Math.ceil(visits.length / itemsPerPage);
      for (let i = 1; i <= totalPages; i++) {
        document.getElementById(`page${i}`).style.display = i === page ? 'block' : 'none';
      }
    }

    // Initialize pagination on page load
    document.addEventListener('DOMContentLoaded', paginateVisits);
  </script> -->
</body>

</html>